<app-toolbar>
	<div class="back-button-container">
		<button [routerLink]="['/manager']">&#60; Back</button>
		<p class="project-label">Project: {{project?.name}}</p>
	</div>
</app-toolbar>
<div class="root-container">
	<div class="task-list-details-container">
		<div>
			<h2>Project: {{project?.name}}</h2>
			{{project?.description}}
		</div>
		<app-tabs [tabs]="['Tasks', 'Users', 'Settings']" #tabs>
			<div *ngIf="tabs.tabIndex === 0">
				<div class="tab-container">
					<h2>Tasks</h2>
					<app-task-list *ngIf="tasks" [projectId]="project?.id" [tasks]="tasks"></app-task-list>
				</div>
			</div>
			<div *ngIf="tabs.tabIndex === 1">
				<div class="tab-container">
					<h2>Users</h2>
					<app-user-invitation *ngIf="isOwner()" class="tab-container-item"
										 [projectId]="project?.id"></app-user-invitation>
					<app-user-list [project]="project"></app-user-list>
				</div>
			</div>
			<div *ngIf="tabs.tabIndex === 2">
				<div class="tab-container">
					<h2>Settings</h2>
					<app-project-settings [projectId]="project?.id"
										  [projectOwner]="project.owner"></app-project-settings>
				</div>
			</div>
		</app-tabs>

		<div class="task-details-container">
			<h1>Task Details</h1>
			<app-task-details [needUserAssignment]="project?.needsAssignment"></app-task-details>
		</div>
	</div>
	<div class="map-container">
		<h2>Map</h2>
		<app-task-map *ngIf="tasks" [tasks]="tasks" class="map"></app-task-map>
	</div>
</div>
