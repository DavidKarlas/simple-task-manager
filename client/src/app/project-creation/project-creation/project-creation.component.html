<app-toolbar>
	<div>
		<button [routerLink]="['/manager']" i18n>&#60; Cancel</button>
		<button class="save-button" (click)="onSaveButtonClicked()" [disabled]="!creationForm.form.valid || !hasTasks"
				i18n>
			Save
		</button>
	</div>
</app-toolbar>
<div class="root-container">
	<div class="project-properties-container">
		<form #creationForm="ngForm" class="root-form">
			<app-tabs #rootTabs [tabs]="rootTabTitles" [borderless]="true" class="root-tabs" (tabSelected)="onTabSelected()">
				<div *ngIf="rootTabs.tabIndex === 0">
					<h2 class="properties-label" i18n>Properties:</h2>
					<app-project-properties [projectProperties]="projectProperties"></app-project-properties>
				</div>

				<div *ngIf="rootTabs.tabIndex === 1" class="tab-container">
						<h2 class="properties-label" i18n>Tasks:</h2>
						<app-task-draft-list [features]="taskFeatures"
											 [selectedPolygon]="selectedPolygon"></app-task-draft-list>

						<h2 i18n>Subdivide task:</h2>
						<app-shape-divide [selectedPolygon]="selectedPolygon"
										  (shapesCreated)="onSelectedShapeSubdivided($event)"></app-shape-divide>
				</div>

				<div *ngIf="rootTabs.tabIndex === 2">
					<div class="tab-container">
						<app-shape-upload (featuresUploaded)="onShapesCreated($event)"></app-shape-upload>
					</div>
				</div>

				<div *ngIf="rootTabs.tabIndex === 3">
					<div class="tab-container">
						<app-shape-remote (featuresLoaded)="onShapesCreated($event)"></app-shape-remote>
					</div>
				</div>
			</app-tabs>
		</form>
	</div>
	<app-drawing-toolbar
			[resetSelection]="resetToolbarSelectionSubject"
			(buttonZoomIn)="onZoomIn()"
			(buttonZoomOut)="onZoomOut()"
			(buttonDraw)="onToggleDraw()"
			(buttonEdit)="onToggleEdit()"
			(buttonDelete)="onToggleDelete()"
	></app-drawing-toolbar>
	<div class="map-container">
		<div id="map"></div>
	</div>
</div>
